<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>Jira & Sample Sheet Portal</title>
    <!-- <script type="text/javascript" src="./node_modules/d3/build/d3.js"></script> -->
    <!-- <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.min.js"
        integrity="sha512-MefNfAGJ/pEy89xLOFs3V6pYPs6AmUhXJrRlydI/9wZuGrqxmrdQ80zKHUcyadAcpH67teDZcBeS6oMJLPtTqw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- <link rel="stylesheet" href="https://unpkg.com/x-data-spreadsheet@latest/dist/xspreadsheet.css" />
    <script src="https://unpkg.com/x-data-spreadsheet@latest/dist/xspreadsheet.js"></script> -->
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/BrowserFS/2.0.0/browserfs.min.js"
        integrity="sha512-mz0EI+Ay1uIJP7rZEX8C/JlTAcHRIQ8Sny4vxmmj8MSzDJgG9NxxY2pUmOGv1lO7imFIFMyjjCzEXEywNgaUdQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <!--Lodash-->
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
    <!-- <script type="text/javascript" src="script.js" defer></script> -->
    <script type="module" src="miseqScript.js"></script>
    <script type="module" src="nanoScript.js"></script>
    <script type="module" src="newScript.js" defer></script>
    <style>
        /* Style Sheet */

        /* Add red astric to left of labels with class required-field */
        .required-field::before {
            content: "*";
            color: red;
            padding-right: 5px;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg" style="background-color: #e3f2fd;">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Samplesheet Portal</a>
        </div>
    </nav>
    <br>
    <div class="container" id="dataFormDiv">

        <!--Sequencing Selection Div-->
        <div id="sequencingSelectionDiv">
            <h4>Select Sequencing Machine:</h4>
            <br>
            <div class="mb-3 row" id="sequencingTypeDiv">
                <div class="col-sm-2">
                    <input class="form-check-input" type="radio" id="miseq" name="inputTypeOfSeq" value="MISEQ" checked>
                    <label class="form-check-label" for="miseq">MiSeq</label>
                </div>
                <div class="col-sm-3">
                    <input class="form-check-input" type="radio" id="oxfordNanopore" name="inputTypeOfSeq" value="NANO">
                    <label class="form-check-label" for="oxfordNanopore">Oxford Nanopore</label>
                </div>
                <div class="col-sm-3">
                    <input disabled class="form-check-input" type="radio" id="noSampleSheet" name="inputTypeOfSeq"
                        value="NOSAMP">
                    <label class="form-check-label" for="noSampleSheet">No Samplesheet</label>
                </div>
                <!-- <div class="col-sm-2">
                     <input disabled class="form-check-input" type="radio" id="pacbio" name="inputTypeOfSeq"
                        value="PACBIO">
                    <label class="form-check-label" for="pacbio">PacBio</label>
                </div> -->
            </div>
            <hr />
        </div>

        <!--Sample Sheet Div-->
        <div id="sampleSheetDiv">
            <!--MiSeq-->
            <div class="container" id="miSeqSampleSheetDiv" style="display: block;">

                <h3>MiSeq Samplesheet:</h3>
                <br>

                <div class="container overflow-auto" style="height: 400px">
                    <table class="table">
                        <thead class="thead-light">
                            <tr>
                                <th></th>
                                <th class="required-field">Sample_ID</th>
                                <!-- <th class="required-field">Sample_Name</th> -->
                                <th>Description</th>
                                <th class="required-field">I7_Index
                                    <i class="bi bi-info-circle indexInfo" data-toggle="popover"
                                        title="Common I7 Indexes"></i>
                                </th>
                                <!-- <th>index</th> -->
                                <th class="required-field">I5_Index <i class="bi bi-info-circle indexInfo"
                                        data-toggle="popover" title="Common I5 Indexes"></i>
                                </th>
                                <!-- <th>index2</th> -->
                                <th>Sample_Project</th>
                                <th>Reference <i class="bi bi-info-circle sampleSheetRefInfo" data-toggle="popover"
                                        title="References"></i>
                                </th>
                                <th>
                                    <input type="text" class="form-control" id="miseq_extra_1" placeholder="Extra 1"
                                        style="width: 100px">
                                    <i class="bi bi-info-circle extraInfo" data-toggle="popover" title="Extra Info"></i>
                                </th>
                                <th>
                                    <input type="text" class="form-control" id="miseq_extra_2" placeholder="Extra 2"
                                        style="width: 100px">
                                    <i class="bi bi-info-circle extraInfo" data-toggle="popover" title="Extra Info"></i>
                                </th>
                                <th>
                                    <input type="text" class="form-control" id="miseq_extra_3" placeholder="Extra 3"
                                        style="width: 100px">
                                    <i class="bi bi-info-circle extraInfo" data-toggle="popover" title="Extra Info"></i>
                                </th>
                                <th width="50px">
                                    <div class="action_container row">
                                        <button class="btn btn-sm btn-primary col" id="add1MiseqRow"
                                            style="margin: 5%">+1</button>
                                        <div class="col row">
                                            <button class="btn btn-sm btn-primary col" id="add3MiseqRow"
                                                style="margin: 5%">+3</button>
                                            <button class="btn btn-sm btn-primary col" id="add5MiseqRow"
                                                style="margin: 5%">+5</button>
                                        </div>

                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody id="miseq_table_body">
                            <tr>
                                <td>1</td>
                                <td>
                                    <input class="sampId" type="text" class="form-control" placeholder="sample_id">
                                </td>
                                <!-- <td>
                                    <input class="sampName" type="text" class="form-control" placeholder="sample_name">
                                </td> -->
                                <td>
                                    <textarea class="form-control sampDes"
                                        style="height: 40px; width: 150px;"></textarea>
                                </td>
                                <td>
                                    <select class="select2ClassAddMiSeqI7 select2ClassAddMiSeq sampI7"
                                        style="width: 150px;">

                                    </select>
                                </td>

                                <td>
                                    <select class="select2ClassAddMiSeq select2ClassAddMiSeqI5 sampI5"
                                        style="width: 150px;">

                                    </select>
                                </td>

                                <td>
                                    <input type="text" class="form-control sampProj">
                                </td>
                                <td>
                                    <select class="select2ClassAddMiSeq select2ClassAddMiSeqRef sampRef"
                                        style="width: 150px;">

                                    </select>
                                </td>
                                <td>
                                    <input type="text" class="form-control sampEx1">
                                </td>
                                <td>
                                    <input type="text" class="form-control sampEx2">
                                </td>
                                <td>
                                    <input type="text" class="form-control sampEx3">
                                </td>
                                <td>
                                    <div class="action_container" style="width: 70px">
                                        <button class="btn btn-danger rm-row-btn">
                                            <i class="bi bi-trash3" style="width: 10px"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>




                <br>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label required-field" for="miseqExperimentName">Experiment Name:</label>
                    <div class="col-sm-5">
                        <input class="form-control" type="text" id="miseqExperimentName">
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label bold required-field" for="inputReads1">Reads 1:</label>
                    <div class="col-sm-1">
                        <input class="form-control" type="text" id="inputReads1" value="151" style="text-align: right">
                    </div>
                    <div class="col-sm-3"></div>
                    <label class="col-sm-2 col-form-label required-field" for="inputReads2">Reads 2:</label>
                    <div class="col-sm-1">
                        <input class="form-control" type="text" id="inputReads2" value="151" style="text-align: right">
                    </div>
                </div>


                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label required-field" for="moduleDrop">Module:</label>
                    <div class="col-sm-3" style="display: flex;">
                        <select class="form-select select2ClassAdd" name="moduleInputs" id="moduleDrop">
                            <option value="GenerateFASTQ" selected="selected">GenerateFASTQ</option>
                            <option value="module2">module2</option>
                            <option value="module3">module3</option>
                            <option value="module4">module4</option>
                        </select>
                        <i class="bi bi-info-circle helpfulInfo" style="margin-left: 5px;" data-toggle="popover"
                            title="Info"></i>
                    </div>
                    <div class="col-sm-1"></div>
                    <label class="col-sm-2 col-form-label required-field" for="workflowDrop">Workflow:</label>
                    <div class="col-sm-3">
                        <select class="form-select select2ClassAdd" name="workflowInputs" id="workflowDrop">
                            <option value="GenerateFASTQ" selected="selected">GenerateFASTQ</option>
                            <option value="workflow2">workflow2</option>
                            <option value="workflow3">workflow3</option>
                            <option value="workflow4">workflow4</option>
                        </select>
                    </div>
                </div>


                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label required-field" for="libraryDrop">Library Prep Kit:</label>
                    <div class="col-sm-3">
                        <select class="form-select select2ClassAdd" name="libraryInputs" id="libraryDrop">
                            <option value="Custom" selected="selected">Custom</option>
                            <option value="library2">library2</option>
                            <option value="library3">library3</option>
                            <option value="library4">library4</option>
                        </select>
                    </div>
                    <div class="col-sm-1"></div>
                    <label class="col-sm-2 col-form-label required-field" for="indexKitDrop">Index Kit:</label>
                    <div class="col-sm-3">
                        <select class="form-select select2ClassAdd" name="indexKitInputs" id="indexKitDrop">
                            <option value="Custom" selected="selected">Custom</option>
                            <option value="indexKit2">indexKit2</option>
                            <option value="indexKit3">indexKit3</option>
                            <option value="indexKit4">indexKit4</option>
                        </select>
                    </div>
                </div>


                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label required-field" for="chemistryDrop">Chemistry:</label>
                    <div class="col-sm-3">
                        <select class="form-select select2ClassAdd" name="chemistryInputs" id="chemistryDrop">
                            <option value="Amplicon" selected="selected">Amplicon</option>
                            <option value="chemistry2">chemistry2</option>
                            <option value="chemistry3">chemistry3</option>
                            <option value="chemistry4">chemistry4</option>
                        </select>
                    </div>
                </div>

            </div>

            <!--Nanopore-->
            <!--Nanopore-->
            <!--Nanopore-->
            <!--Nanopore-->
            <div class="container" id="nanoporeSampleSheetDiv" style="display: none;">
                <h3>Nanopore Samplesheet:</h3>
                <br />
                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label required-field" for="nanoExperimentName">Experiment
                        Name:</label>
                    <div class="col-sm-5">
                        <input class="form-control" type="text" id="nanoExperimentName">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 required-field" for="inputNanoporeSampleSheet">Attach Nanopore
                        Samplesheet:</label>
                    <div class="col-sm-5" style="display: flex;">
                        <input class="form-control" type="file" id="inputNanoporeSampleSheet" multiple>
                        <i class="bi bi-info-circle nanoporeSampleSheetInfo" style="margin-left: 5px;"
                            data-toggle="popover" title="Samplesheet Info"></i>
                    </div>

                </div>

            </div>

            <hr />
        </div>

        <!--Jira Info Div-->
        <div id="jiraInfoDiv">

            <h3>Ticket Information:</h3>
            <br>

            <div id="projectInfo">

                <div class="row mb-3">
                    <div class="col-sm-2">
                        <label class="form-label" for="inputJiraTicketID">Jira Ticket ID:</label>
                    </div>

                    <div class="col-sm-3">
                        <select class="form-select select2ClassClear" id="inputJiraTicketID">
                        </select>
                    </div>
                    <div class="col-sm-6">
                        <div id="inputJiraTicketHelpBlock" class="form-text">
                            If left empty a Jira Ticket will automatically be created and assigned to you.
                        </div>
                    </div>
                </div>

                <div class="mb-3 row" id="moreSeqInfo">
                    <label class="col-sm-2 col-form-label" for="inputDescriptionInfo">Description:</label><br>
                    <div class="col-sm-9">
                        <textarea class="form-control" id="inputDescriptionInfo" rows="4" cols="50"></textarea>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 required-field" for="inputExperimentalist">Assignee:</label>
                    <div class="col-sm-3" style="display: flex;">
                        <select class="form-select select2Class disableWhenJiraTicket" id="inputExperimentalist">
                            <option value="">None</option>
                            <option value="apalladino">apalladino</option>
                            <option value="apecorale">apecorale</option>
                            <option value="azheng">azheng</option>
                            <option value="bbruccoleri">bbruccoleri</option>
                            <option value="dprzybylski">dprzybylski</option>
                            <option value="dselby">dselby</option>
                            <option value="jprout">jprout</option>
                            <option value="jvonstetina">jvonstetina</option>
                            <option value="JWright">JWright</option>
                            <option value="kgall">kgall</option>
                            <option value="mrubin">mrubin</option>
                            <option value="nbourgeois">nbourgeois</option>
                            <option value="phaddadi">phaddadi</option>
                            <option value="sadjei">sadjei</option>
                            <option value="thanscom">thanscom</option>
                            <option value="TStMartin">TStMartin</option>
                        </select>
                        <i class="bi bi-info-circle assigneeInfo" style="margin-left: 5px;" data-toggle="popover"
                            title="Assignee Info"></i>
                    </div>
                    <div class="col-sm-1"></div>
                    <label class="col-sm-2 col-form-label" for="inputStakeholder">Additional Watchers:</label>
                    <div class="col-sm-3" style="display: flex;">
                        <select class="form-select select2Class" id="inputStakeholder" multiple="multiple">
                            <option value="apalladino">apalladino</option>
                            <option value="apecorale">apecorale</option>
                            <option value="azheng">azheng</option>
                            <option value="bbruccoleri">bbruccoleri</option>
                            <option value="dprzybylski">dprzybylski</option>
                            <option value="dselby">dselby</option>
                            <option value="jprout">jprout</option>
                            <option value="jvonstetina">jvonstetina</option>
                            <option value="JWright">JWright</option>
                            <option value="kgall">kgall</option>
                            <option value="mrubin">mrubin</option>
                            <option value="nbourgeois">nbourgeois</option>
                            <option value="phaddadi">phaddadi</option>
                            <option value="sadjei">sadjei</option>
                            <option value="thanscom">thanscom</option>
                            <option value="TStMartin">TStMartin</option>
                        </select>
                        <i class="bi bi-info-circle watcherInfo" style="margin-left: 5px;" data-toggle="popover"
                            title="Watchers Info"></i>
                    </div>
                </div>


                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label" for="jiraProjectDrop">Project:</label>
                    <div class="col-sm-3" style="display: flex;">
                        <select class="form-select select2Class disableWhenJiraTicket" name="jiraProjectInputs"
                            id="jiraProjectDrop">
                            <option value="TES" selected="selected">Test Roadmap</option>
                            <option value="NT">New Targets</option>
                            <option value="PAC">PacBio</option>
                            <option value="BFX">Bioinformatics</option>
                        </select>
                        <i class="bi bi-info-circle projectInfo" style="margin-left: 5px;" data-toggle="popover"
                            title="Project Info"></i>
                    </div>
                </div>


                <div class="mb-3 row" style="display: flex;">
                    <label class="col-form-label col-sm-2" for="inputTag">Add Tag:</label>
                    <div class="col-sm-6" style="display: flex;">
                        <select class="form-select select2ClassAdd" id="inputTags" multiple="multiple">
                            <option value="Sequencing_Run">Sequencing Run</option>
                            <option value="Needs_To_Be_Analyzed">Needs To Be Analyzed</option>
                            <option value="MiSeq">MiSeq</option>
                            <option value="Nanopore">Nanopore</option>
                            <option value="Reference_Added">Reference Added</option>
                        </select>
                        <i class="bi bi-info-circle tagsInfo" style="margin-left: 5px;" data-toggle="popover"
                            title="Tags Info"></i>
                    </div>
                </div>

                <div class="mb-3 row">
                    <label class="col-form-label col-sm-2 required-field" for="inputXXXFile">Attach References:</label>
                    <div class="col-sm-3" style="display: flex;">
                        <input class="form-control" type="file" id="inputXXXFile" multiple>
                        <i class="bi bi-info-circle referenceInfo" style="margin-left: 5px;" data-toggle="popover"
                            title="Reference Info"></i>
                    </div>
                    <!-- <div class="col-sm-1"></div> -->

                    <label class="col-form-label col-sm-2" for="inputXXXFile">Or Select From Previously Uploaded</label>
                    <div class="col-sm-3" style="display: flex;">
                        <select class="form-select select2Class" id="inputXXXFileAlt" multiple="multiple">
                        </select>
                        <i class="bi bi-info-circle referenceInfo" style="margin-left: 5px;" data-toggle="popover"
                            title="Reference Info"></i>
                    </div>

                </div>

                <div class="mb-3 row">
                    <label class="col-sm-2 col-form-label" for="inputYYYFile">Other Attachmenets:</label>
                    <div class="col-sm-3" style="display: flex;">
                        <input class="form-control" type="file" id="inputYYYFile" multiple>
                        <i class="bi bi-info-circle otherAttachmentsInfo" style="margin-left: 5px;"
                            data-toggle="popover" title="Other Attachments Info"></i>
                    </div>
                </div>

                <br>
                <div class="mb-3 row">
                    <p style="color: blue;" id="toggleAdvancedJiraText">Advanced Jira Options <i
                            class="bi bi-arrow-down"></i></p>
                </div>

                <div id="advancedJiraOptions" style="display: none;">
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="jiraCategoryDrop">Category:</label>
                        <div class="col-sm-3" style="display: flex;">
                            <select class="form-select select2Class disableWhenJiraTicket" name="jiraCategoryInputs"
                                id="jiraCategoryDrop">
                                <option value="Sequencing" selected="selected">Sequencing</option>
                                <option value="Task">Task</option>
                                <option value="Story">Story</option>
                                <option value="Epic">Epic</option>
                            </select>
                            <i class="bi bi-info-circle categoryInfo" style="margin-left: 5px;" data-toggle="popover"
                                title="Category Info"></i>
                        </div>
                        <div class="col-sm-1"></div>
                        <label class="col-sm-2 col-form-label" for="inputAssignEpic">Assign to Epic:</label>
                        <div class="col-sm-3" style="display: flex;">
                            <select style="width: 100px;" class="form-select select2ClassClear" name="inputAssignEpic"
                                id="inputAssignEpic">
                                <!--Filled in by code-->
                            </select>
                            <i class="bi bi-info-circle assignEpicInfo" style="margin-left: 5px;" data-toggle="popover"
                                title="Assign Epic Info"></i>
                        </div>
                    </div>


                    <!-- <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label" for="linkedIssuesDrop">Linked Type:</label>
                        <div class="col-sm-3" style="display: flex;">
                            <select style="width: 150px;" class="form-select select2ClassClear" name="linkedIssuesInputs"
                                id="linkedIssuesDrop">
                                <option value="">None</option>
                                <option value="blocks">Blocks</option>
                                <option value="blockedBy">Is Blocked By</option>
                                <option value="clones">Clones</option>
                            </select>
                            <i class="bi bi-info-circle linkedIssueInfo" style="margin-left: 5px;" data-toggle="popover"
                                title="Linked Issue Info"></i>
                        </div>
                        <div class="col-sm-1"></div>
                        <label class="col-sm-1 col-form-label" for="inputLinkedIssue">Linked Issues:</label>
                        <div class="col-sm-3">
                            <select class="form-select select2Class" id="inputLinkedIssue" multiple="multiple" style="width: 200px;">
                                
                            </select>
                        </div>
                    </div> -->

                </div>

            </div>
        </div>

        <hr />

        <button class="btn btn-primary" id="submitFormBtn">Submit</button>

        <br>
        <br>
    </div>
    <div id="liveAlertPlaceholder"
        style="position: fixed; top: 25px;  margin-right: 25%; margin-left: 25%; left: 0; right: 0;"></div>
</body>

</html>